{"version":3,"sources":["services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","delete","change","put","FilterForm","props","value","filterText","onChange","handleFilter","PersonForm","onSubmit","checkName","name","handleNameChange","number","handleNumChange","type","Persons","personsToShow","map","person","i","poista","Note","onClick","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","showAll","setShowAll","setFilter","errorMsg","setErrorMsg","successMsg","setSuccessMsg","useEffect","getData","personData","then","response","data","ErrorNotification","msg","className","SuccessNotification","addNumber","event","perObject","concat","setTimeout","catch","error","console","log","filter","toLowerCase","includes","toLocaleLowerCase","target","length","preventDefault","e","window","confirm","find","per","personChange","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.567c65c2.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'https://mysterious-hamlet-35771.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst addNew = newObject => {    \r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst deletePerson = id => {  \r\n  return axios.delete(`https://mysterious-hamlet-35771.herokuapp.com/api/persons/${id}`)\r\n}\r\n\r\nconst updateNumber = change => {\r\n  return axios.put(`https://mysterious-hamlet-35771.herokuapp.com/api/persons/${change.id}`, change)\r\n}\r\n\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  addNew: addNew,\r\n  deletePerson: deletePerson,\r\n  updateNumber: updateNumber    \r\n}","import React, { useState, useEffect } from 'react'\nimport personData from './services/persons'\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([])  \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ showAll, setShowAll] = useState(true)\n  const [ filterText, setFilter] = useState('')\n  const [errorMsg, setErrorMsg] = useState(null)\n  const [successMsg, setSuccessMsg] = useState(null)\n  \n  useEffect(() => {    \n    getData()\n  }, [])\n\n  const getData = () => {\n    personData\n      .getAll()\n      .then(response => \n        setPersons(response.data))\n  }\n\n  const ErrorNotification = ({msg}) => {\n    if (msg === null){\n      return null\n    }\n    return (\n      <div className=\"error\">\n        {msg}\n      </div>\n    )\n  }\n\n  const SuccessNotification = ({msg}) => {\n    if (msg === null){\n      return null\n    }\n    return (\n      <div className=\"success\">\n        {msg}\n      </div>\n    )\n  }\n\n  const checkName = (event) => {\n\n    event.preventDefault()\n\n    if (persons.filter(e => e.name === newName).length > 0){\n      \n      if (window.confirm(`${newName} is already added to phonebook, replace the number with a new one?`)){\n        \n        const person = persons.find(per => per.name === newName)\n        const personChange = {...person, number : newNumber}\n\n        personData\n         .updateNumber(personChange)\n         .then(change => {\n          setPersons(persons.map(person => person.id !== personChange.id ? person : change.data))\n\n          setSuccessMsg(\n            `${personChange.name} number was changed successfully!`\n          )\n          setTimeout(() => {\n            setSuccessMsg(null)\n          }, 5000)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setErrorMsg(\n            `Information of ${personChange.name} has already been removed from the server`\n          )\n          setTimeout(() => {\n            setErrorMsg(null)\n          }, 5000)\n\n          //2.20 kohtaan kun tulee error 404, ladataan tiedot siten näkyviin, että serveriltä poistettu nimi häviää listasta\n          getData()\n          console.log(error)\n          setNewName('')\n          setNewNumber('')\n        })\n      }\n      \n    }\n    else {\n      addNumber(event)\n    }\n  }\n\n  const handlePoista = (id) => {\n\n    if (window.confirm(\"Do you want to delete?\")){\n\n      personData\n      .deletePerson(id)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== id))\n        \n        setSuccessMsg(\n          `Delete was done successfully!`\n        )\n        setTimeout(() => {\n          setSuccessMsg(null)\n        }, 5000)        \n      })\n      .catch(error => {\n        setErrorMsg(\n          \"Could not delete person\"\n        )\n        setTimeout(() => {\n          setErrorMsg(null)\n        }, 5000)\n        console.log(error)\n      }) \n    }\n  }\n\n  const addNumber = (event) =>{    \n    \n    const perObject = {\n      name: newName,\n      number: newNumber\n    }\n    //console.log(perObject)\n    //setPersons(persons.concat(perObject))\n    setNewName('')\n    setNewNumber('')\n    \n    personData\n      .addNew(perObject)\n      .then(response => {\n        setPersons(persons.concat(response.data))        \n      \n        setSuccessMsg(\n          `${perObject.name} was added successfully!`\n        )\n        setTimeout(() => {\n          setSuccessMsg(null)\n        }, 5000)\n      \n    })\n    .catch(error => {\n      console.log(error.response)\n      console.log(error.response.data)\n      setErrorMsg(\n        error.response.data\n      )\n      setTimeout(() => {\n        setErrorMsg(null)\n      }, 5000)\n      console.log(error)\n    })\n    \n  }\n\n  const handleNameChange = (event) =>{    \n    setNewName(event.target.value)    \n  }\n\n  const handleNumChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n\n    setFilter(event.target.value)\n\n    if (event.target.value.length >= 1){      \n      setShowAll(false)      \n    }\n    else {\n      setShowAll(true)\n    }    \n  }\n\n  const personsToShow = showAll\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(filterText.toLocaleLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <ErrorNotification msg={errorMsg} />\n      <SuccessNotification msg={successMsg} />\n\n      <FilterForm filterText={filterText} handleFilter={handleFilter}/>\n        \n      <h3>add new</h3>\n\n      <PersonForm name={newName} number={newNumber} checkName={checkName} handleNameChange={handleNameChange} handleNumChange={handleNumChange} />\n      \n      <h3>Numbers</h3>\n\n      <Persons personsToShow={personsToShow} persons={persons} poista={handlePoista}/>\n      \n    </div>\n  )\n}\n\nconst FilterForm = (props) => {\n  return (\n    <form>\n      <div>\n            filter shown with\n            <input\n            value={props.filterText}\n            onChange={props.handleFilter}/>          \n      </div>\n    </form>\n  )\n}\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.checkName}>\n        <div>\n          name: <input \n            value={props.name}\n            onChange={props.handleNameChange}/>\n        </div>\n        <div>\n          number: <input\n          value={props.number}\n          onChange={props.handleNumChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nconst Persons = (props) => {    \n  return (\n    <div>\n        {props.personsToShow.map((person, i) => <Note key={i} person={person} poista={props.poista} />)}\n    </div>\n  )\n}\n\nconst Note = (props) => {      \n  return (\n  <p> {props.person.name} {props.person.number} <button onClick={() => props.poista(props.person.id)} >delete</button></p>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}